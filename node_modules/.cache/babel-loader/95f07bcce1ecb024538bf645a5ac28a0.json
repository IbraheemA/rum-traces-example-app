{"ast":null,"code":"'use strict';\n\nconst {\n  AsyncLocalStorage\n} = require('async_hooks');\nconst storages = Object.create(null);\nconst legacyStorage = new AsyncLocalStorage();\nconst storage = function (namespace) {\n  if (!storages[namespace]) {\n    storages[namespace] = new AsyncLocalStorage();\n  }\n  return storages[namespace];\n};\nstorage.disable = legacyStorage.disable.bind(legacyStorage);\nstorage.enterWith = legacyStorage.enterWith.bind(legacyStorage);\nstorage.exit = legacyStorage.exit.bind(legacyStorage);\nstorage.getStore = legacyStorage.getStore.bind(legacyStorage);\nstorage.run = legacyStorage.run.bind(legacyStorage);\nmodule.exports = storage;","map":{"version":3,"names":["AsyncLocalStorage","require","storages","Object","create","legacyStorage","storage","namespace","disable","bind","enterWith","exit","getStore","run","module","exports"],"sources":["/Users/ibraheem.aboulnaga/rum-traces-example-app/node_modules/dd-trace/packages/datadog-core/src/storage.js"],"sourcesContent":["'use strict'\n\nconst { AsyncLocalStorage } = require('async_hooks')\n\nconst storages = Object.create(null)\nconst legacyStorage = new AsyncLocalStorage()\n\nconst storage = function (namespace) {\n  if (!storages[namespace]) {\n    storages[namespace] = new AsyncLocalStorage()\n  }\n  return storages[namespace]\n}\n\nstorage.disable = legacyStorage.disable.bind(legacyStorage)\nstorage.enterWith = legacyStorage.enterWith.bind(legacyStorage)\nstorage.exit = legacyStorage.exit.bind(legacyStorage)\nstorage.getStore = legacyStorage.getStore.bind(legacyStorage)\nstorage.run = legacyStorage.run.bind(legacyStorage)\n\nmodule.exports = storage\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA;AAAkB,CAAC,GAAGC,OAAO,CAAC,aAAa,CAAC;AAEpD,MAAMC,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;AACpC,MAAMC,aAAa,GAAG,IAAIL,iBAAiB,CAAC,CAAC;AAE7C,MAAMM,OAAO,GAAG,SAAAA,CAAUC,SAAS,EAAE;EACnC,IAAI,CAACL,QAAQ,CAACK,SAAS,CAAC,EAAE;IACxBL,QAAQ,CAACK,SAAS,CAAC,GAAG,IAAIP,iBAAiB,CAAC,CAAC;EAC/C;EACA,OAAOE,QAAQ,CAACK,SAAS,CAAC;AAC5B,CAAC;AAEDD,OAAO,CAACE,OAAO,GAAGH,aAAa,CAACG,OAAO,CAACC,IAAI,CAACJ,aAAa,CAAC;AAC3DC,OAAO,CAACI,SAAS,GAAGL,aAAa,CAACK,SAAS,CAACD,IAAI,CAACJ,aAAa,CAAC;AAC/DC,OAAO,CAACK,IAAI,GAAGN,aAAa,CAACM,IAAI,CAACF,IAAI,CAACJ,aAAa,CAAC;AACrDC,OAAO,CAACM,QAAQ,GAAGP,aAAa,CAACO,QAAQ,CAACH,IAAI,CAACJ,aAAa,CAAC;AAC7DC,OAAO,CAACO,GAAG,GAAGR,aAAa,CAACQ,GAAG,CAACJ,IAAI,CAACJ,aAAa,CAAC;AAEnDS,MAAM,CAACC,OAAO,GAAGT,OAAO","ignoreList":[]},"metadata":{},"sourceType":"script"}