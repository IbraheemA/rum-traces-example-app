{"ast":null,"code":"var DEFAULT_LIMIT = 10000;\nvar BoundedBuffer = /** @class */function () {\n  function BoundedBuffer(limit) {\n    if (limit === void 0) {\n      limit = DEFAULT_LIMIT;\n    }\n    this.limit = limit;\n    this.buffer = [];\n  }\n  BoundedBuffer.prototype.add = function (callback) {\n    var length = this.buffer.push(callback);\n    if (length > this.limit) {\n      this.buffer.splice(0, 1);\n    }\n  };\n  BoundedBuffer.prototype.drain = function () {\n    this.buffer.forEach(function (callback) {\n      return callback();\n    });\n    this.buffer.length = 0;\n  };\n  return BoundedBuffer;\n}();\nexport { BoundedBuffer };","map":{"version":3,"names":["DEFAULT_LIMIT","BoundedBuffer","limit","buffer","prototype","add","callback","length","push","splice","drain","forEach"],"sources":["../../src/tools/boundedBuffer.ts"],"sourcesContent":[null],"mappings":"AAAA,IAAMA,aAAa,GAAG,KAAM;AAE5B,IAAAC,aAAA;EAGE,SAAAA,cAAoBC,KAA6B;IAA7B,IAAAA,KAAA;MAAAA,KAAA,GAAAF,aAA6B;IAAA;IAA7B,KAAAE,KAAK,GAALA,KAAK;IAFjB,KAAAC,MAAM,GAAsB,EAAE;EAEc;EAEpDF,aAAA,CAAAG,SAAA,CAAAC,GAAG,GAAH,UAAIC,QAAoB;IACtB,IAAMC,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACK,IAAI,CAACF,QAAQ,CAAC;IACzC,IAAIC,MAAM,GAAG,IAAI,CAACL,KAAK,EAAE;MACvB,IAAI,CAACC,MAAM,CAACM,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;;EAE5B,CAAC;EAEDR,aAAA,CAAAG,SAAA,CAAAM,KAAK,GAAL;IACE,IAAI,CAACP,MAAM,CAACQ,OAAO,CAAC,UAACL,QAAQ;MAAK,OAAAA,QAAQ,EAAE;IAAV,CAAU,CAAC;IAC7C,IAAI,CAACH,MAAM,CAACI,MAAM,GAAG,CAAC;EACxB,CAAC;EACH,OAAAN,aAAC;AAAD,CAAC,CAhBD","ignoreList":[]},"metadata":{},"sourceType":"module"}