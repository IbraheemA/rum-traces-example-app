{"ast":null,"code":"import { addEventListener } from '@datadog/browser-core';\nvar trackFirstHiddenSingleton;\nvar stopListeners;\nexport function trackFirstHidden(emitter) {\n  if (emitter === void 0) {\n    emitter = window;\n  }\n  if (!trackFirstHiddenSingleton) {\n    if (document.visibilityState === 'hidden') {\n      trackFirstHiddenSingleton = {\n        timeStamp: 0\n      };\n    } else {\n      trackFirstHiddenSingleton = {\n        timeStamp: Infinity\n      };\n      stopListeners = addEventListener(emitter, \"pagehide\" /* PAGE_HIDE */, function (_a) {\n        var timeStamp = _a.timeStamp;\n        trackFirstHiddenSingleton.timeStamp = timeStamp;\n      }, {\n        capture: true,\n        once: true\n      }).stop;\n    }\n  }\n  return trackFirstHiddenSingleton;\n}\nexport function resetFirstHidden() {\n  if (stopListeners) {\n    stopListeners();\n  }\n  trackFirstHiddenSingleton = undefined;\n}","map":{"version":3,"names":["addEventListener","trackFirstHiddenSingleton","stopListeners","trackFirstHidden","emitter","window","document","visibilityState","timeStamp","Infinity","_a","capture","once","stop","resetFirstHidden","undefined"],"sources":["../../../../src/domain/rumEventsCollection/view/trackFirstHidden.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,gBAAgB,QAA+C,uBAAuB;AAE/F,IAAIC,yBAAkE;AACtE,IAAIC,aAAuC;AAE3C,OAAM,SAAUC,gBAAgBA,CAACC,OAA8B;EAA9B,IAAAA,OAAA;IAAAA,OAAA,GAAAC,MAA8B;EAAA;EAC7D,IAAI,CAACJ,yBAAyB,EAAE;IAC9B,IAAIK,QAAQ,CAACC,eAAe,KAAK,QAAQ,EAAE;MACzCN,yBAAyB,GAAG;QAAEO,SAAS,EAAE;MAAiB,CAAE;KAC7D,MAAM;MACLP,yBAAyB,GAAG;QAC1BO,SAAS,EAAEC;OACZ;MACSP,aAAa,GAAKF,gBAAgB,CAC1CI,OAAO,8BAEP,UAACM,EAAa;YAAXF,SAAS,GAAAE,EAAA,CAAAF,SAAA;QACVP,yBAA0B,CAACO,SAAS,GAAGA,SAAyB;MAClE,CAAC,EACD;QAAEG,OAAO,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAI,CAAE,CAC9B,CAAAC,IAPsB;;;EAW3B,OAAOZ,yBAAyB;AAClC;AAEA,OAAM,SAAUa,gBAAgBA,CAAA;EAC9B,IAAIZ,aAAa,EAAE;IACjBA,aAAa,EAAE;;EAEjBD,yBAAyB,GAAGc,SAAS;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module"}