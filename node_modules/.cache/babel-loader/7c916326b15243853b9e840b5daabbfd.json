{"ast":null,"code":"/**\n * Internal context keep returning v1 format\n * to not break compatibility with logs data format\n */\nexport function startInternalContext(applicationId, session, parentContexts) {\n  return {\n    get: function (startTime) {\n      var viewContext = parentContexts.findView(startTime);\n      if (session.isTracked() && viewContext && viewContext.session.id) {\n        var actionContext = parentContexts.findAction(startTime);\n        return {\n          application_id: applicationId,\n          session_id: viewContext.session.id,\n          user_action: actionContext ? {\n            id: actionContext.action.id\n          } : undefined,\n          view: viewContext.view\n        };\n      }\n    }\n  };\n}","map":{"version":3,"names":["startInternalContext","applicationId","session","parentContexts","get","startTime","viewContext","findView","isTracked","id","actionContext","findAction","application_id","session_id","user_action","action","undefined","view"],"sources":["../../src/domain/internalContext.ts"],"sourcesContent":[null],"mappings":"AAKA;;;;AAIA,OAAM,SAAUA,oBAAoBA,CAACC,aAAqB,EAAEC,OAAmB,EAAEC,cAA8B;EAC7G,OAAO;IACLC,GAAG,EAAE,SAAAA,CAACC,SAAkB;MACtB,IAAMC,WAAW,GAAGH,cAAc,CAACI,QAAQ,CAACF,SAAyB,CAAC;MACtE,IAAIH,OAAO,CAACM,SAAS,EAAE,IAAIF,WAAW,IAAIA,WAAW,CAACJ,OAAO,CAACO,EAAE,EAAE;QAChE,IAAMC,aAAa,GAAGP,cAAc,CAACQ,UAAU,CAACN,SAAyB,CAAC;QAC1E,OAAO;UACLO,cAAc,EAAEX,aAAa;UAC7BY,UAAU,EAAEP,WAAW,CAACJ,OAAO,CAACO,EAAE;UAClCK,WAAW,EAAEJ,aAAa,GACtB;YACED,EAAE,EAAEC,aAAa,CAACK,MAAM,CAACN;WAC1B,GACDO,SAAS;UACbC,IAAI,EAAEX,WAAW,CAACW;SACnB;;IAEL;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}