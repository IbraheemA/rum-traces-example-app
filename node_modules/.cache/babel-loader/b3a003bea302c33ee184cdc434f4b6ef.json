{"ast":null,"code":"import { monitor } from '../domain/internalMonitoring';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = 60 * ONE_SECOND;\nexport var ONE_HOUR = 60 * ONE_MINUTE;\nexport var ONE_DAY = 24 * ONE_HOUR;\nexport var ONE_KILO_BYTE = 1024;\nexport var ResourceType;\n(function (ResourceType) {\n  ResourceType[\"DOCUMENT\"] = \"document\";\n  ResourceType[\"XHR\"] = \"xhr\";\n  ResourceType[\"BEACON\"] = \"beacon\";\n  ResourceType[\"FETCH\"] = \"fetch\";\n  ResourceType[\"CSS\"] = \"css\";\n  ResourceType[\"JS\"] = \"js\";\n  ResourceType[\"IMAGE\"] = \"image\";\n  ResourceType[\"FONT\"] = \"font\";\n  ResourceType[\"MEDIA\"] = \"media\";\n  ResourceType[\"OTHER\"] = \"other\";\n})(ResourceType || (ResourceType = {}));\nexport var RequestType;\n(function (RequestType) {\n  RequestType[\"FETCH\"] = \"fetch\";\n  RequestType[\"XHR\"] = \"xhr\";\n})(RequestType || (RequestType = {}));\n// use lodash API\nexport function throttle(fn, wait, options) {\n  var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n  var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n  var inWaitPeriod = false;\n  var pendingExecutionWithParameters;\n  var pendingTimeoutId;\n  return {\n    throttled: function () {\n      var parameters = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        parameters[_i] = arguments[_i];\n      }\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters;\n        return;\n      }\n      if (needLeadingExecution) {\n        fn.apply(void 0, parameters);\n      } else {\n        pendingExecutionWithParameters = parameters;\n      }\n      inWaitPeriod = true;\n      pendingTimeoutId = setTimeout(function () {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn.apply(void 0, pendingExecutionWithParameters);\n        }\n        inWaitPeriod = false;\n        pendingExecutionWithParameters = undefined;\n      }, wait);\n    },\n    cancel: function () {\n      clearTimeout(pendingTimeoutId);\n      inWaitPeriod = false;\n      pendingExecutionWithParameters = undefined;\n    }\n  };\n}\nexport function assign(target) {\n  var toAssign = [];\n  for (var _i = 1; _i < arguments.length; _i++) {\n    toAssign[_i - 1] = arguments[_i];\n  }\n  toAssign.forEach(function (source) {\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  });\n}\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nexport function generateUUID(placeholder) {\n  return placeholder ?\n  // eslint-disable-next-line  no-bitwise\n  (parseInt(placeholder, 10) ^ Math.random() * 16 >> parseInt(placeholder, 10) / 4).toString(16) : (1e7 + \"-\" + 1e3 + \"-\" + 4e3 + \"-\" + 8e3 + \"-\" + 1e11).replace(/[018]/g, generateUUID);\n}\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nexport function performDraw(threshold) {\n  return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nexport function round(num, decimals) {\n  return +num.toFixed(decimals);\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n/**\n * Custom implementation of JSON.stringify that ignores value.toJSON.\n * We need to do that because some sites badly override toJSON on certain objects.\n * Note this still supposes that JSON.stringify is correct...\n */\nexport function jsonStringify(value, replacer, space) {\n  if (value === null || value === undefined) {\n    return JSON.stringify(value);\n  }\n  var originalToJSON = [false, undefined];\n  if (hasToJSON(value)) {\n    // We need to add a flag and not rely on the truthiness of value.toJSON\n    // because it can be set but undefined and that's actually significant.\n    originalToJSON = [true, value.toJSON];\n    delete value.toJSON;\n  }\n  var originalProtoToJSON = [false, undefined];\n  var prototype;\n  if (typeof value === 'object') {\n    prototype = Object.getPrototypeOf(value);\n    if (hasToJSON(prototype)) {\n      originalProtoToJSON = [true, prototype.toJSON];\n      delete prototype.toJSON;\n    }\n  }\n  var result;\n  try {\n    result = JSON.stringify(value, replacer, space);\n  } catch (_a) {\n    result = '<error: unable to serialize object>';\n  } finally {\n    if (originalToJSON[0]) {\n      ;\n      value.toJSON = originalToJSON[1];\n    }\n    if (originalProtoToJSON[0]) {\n      ;\n      prototype.toJSON = originalProtoToJSON[1];\n    }\n  }\n  return result;\n}\nfunction hasToJSON(value) {\n  return typeof value === 'object' && value !== null && value.hasOwnProperty('toJSON');\n}\nexport function includes(candidate, search) {\n  return candidate.indexOf(search) !== -1;\n}\nexport function find(array, predicate) {\n  for (var i = 0; i < array.length; i += 1) {\n    var item = array[i];\n    if (predicate(item, i, array)) {\n      return item;\n    }\n  }\n  return undefined;\n}\nexport function isPercentage(value) {\n  return isNumber(value) && value >= 0 && value <= 100;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function objectValues(object) {\n  var values = [];\n  Object.keys(object).forEach(function (key) {\n    values.push(object[key]);\n  });\n  return values;\n}\nexport function objectEntries(object) {\n  return Object.keys(object).map(function (key) {\n    return [key, object[key]];\n  });\n}\nexport function isEmptyObject(object) {\n  return Object.keys(object).length === 0;\n}\nexport function mapValues(object, fn) {\n  var newObject = {};\n  for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n    var key = _a[_i];\n    newObject[key] = fn(object[key]);\n  }\n  return newObject;\n}\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nexport function getGlobalObject() {\n  if (typeof globalThis === 'object') {\n    return globalThis;\n  }\n  Object.defineProperty(Object.prototype, '_dd_temp_', {\n    get: function () {\n      return this;\n    },\n    configurable: true\n  });\n  // @ts-ignore _dd_temp is defined using defineProperty\n  var globalObject = _dd_temp_;\n  // @ts-ignore _dd_temp is defined using defineProperty\n  delete Object.prototype._dd_temp_;\n  if (typeof globalObject !== 'object') {\n    // on safari _dd_temp_ is available on window but not globally\n    // fallback on other browser globals check\n    if (typeof self === 'object') {\n      globalObject = self;\n    } else if (typeof window === 'object') {\n      globalObject = window;\n    } else {\n      globalObject = {};\n    }\n  }\n  return globalObject;\n}\nexport function getLocationOrigin() {\n  return getLinkElementOrigin(window.location);\n}\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\nexport function getLinkElementOrigin(element) {\n  if (element.origin) {\n    return element.origin;\n  }\n  var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n  return element.protocol + \"//\" + sanitizedHost;\n}\nexport function findCommaSeparatedValue(rawString, name) {\n  var regex = new RegExp(\"(?:^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\");\n  var matches = regex.exec(rawString);\n  return matches ? matches[1] : undefined;\n}\nexport function safeTruncate(candidate, length) {\n  var lastChar = candidate.charCodeAt(length - 1);\n  // check if it is the high part of a surrogate pair\n  if (lastChar >= 0xd800 && lastChar <= 0xdbff) {\n    return candidate.slice(0, length + 1);\n  }\n  return candidate.slice(0, length);\n}\n/**\n * Add an event listener to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\nexport function addEventListener(emitter, event, listener, options) {\n  return addEventListeners(emitter, [event], listener, options);\n}\n/**\n * Add event listeners to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\nexport function addEventListeners(emitter, events, listener, _a) {\n  var _b = _a === void 0 ? {} : _a,\n    once = _b.once,\n    capture = _b.capture,\n    passive = _b.passive;\n  var wrappedListener = monitor(once ? function (event) {\n    stop();\n    listener(event);\n  } : listener);\n  var options = passive ? {\n    capture: capture,\n    passive: passive\n  } : capture;\n  events.forEach(function (event) {\n    return emitter.addEventListener(event, wrappedListener, options);\n  });\n  var stop = function () {\n    return events.forEach(function (event) {\n      return emitter.removeEventListener(event, wrappedListener, options);\n    });\n  };\n  return {\n    stop: stop\n  };\n}\nexport function runOnReadyState(expectedReadyState, callback) {\n  if (document.readyState === expectedReadyState || document.readyState === 'complete') {\n    callback();\n  } else {\n    var eventName = expectedReadyState === 'complete' ? \"load\" /* LOAD */ : \"DOMContentLoaded\" /* DOM_CONTENT_LOADED */;\n    addEventListener(window, eventName, callback, {\n      once: true\n    });\n  }\n}","map":{"version":3,"names":["monitor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_KILO_BYTE","ResourceType","RequestType","throttle","fn","wait","options","needLeadingExecution","leading","undefined","needTrailingExecution","trailing","inWaitPeriod","pendingExecutionWithParameters","pendingTimeoutId","throttled","parameters","_i","arguments","length","apply","setTimeout","cancel","clearTimeout","assign","target","toAssign","forEach","source","key","Object","prototype","hasOwnProperty","call","generateUUID","placeholder","parseInt","Math","random","toString","replace","performDraw","threshold","round","num","decimals","toFixed","noop","jsonStringify","value","replacer","space","JSON","stringify","originalToJSON","hasToJSON","toJSON","originalProtoToJSON","getPrototypeOf","result","_a","includes","candidate","search","indexOf","find","array","predicate","i","item","isPercentage","isNumber","objectValues","object","values","keys","push","objectEntries","map","isEmptyObject","mapValues","newObject","getGlobalObject","globalThis","defineProperty","get","configurable","globalObject","_dd_temp_","self","window","getLocationOrigin","getLinkElementOrigin","location","element","origin","sanitizedHost","host","protocol","findCommaSeparatedValue","rawString","name","regex","RegExp","matches","exec","safeTruncate","lastChar","charCodeAt","slice","addEventListener","emitter","event","listener","addEventListeners","events","_b","once","capture","passive","wrappedListener","stop","removeEventListener","runOnReadyState","expectedReadyState","callback","document","readyState","eventName"],"sources":["../../src/tools/utils.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}