{"ast":null,"code":"import { getLinkElementOrigin, getLocationOrigin } from './utils';\nexport function normalizeUrl(url) {\n  return buildUrl(url, getLocationOrigin()).href;\n}\nexport function isValidUrl(url) {\n  try {\n    return !!buildUrl(url);\n  } catch (_a) {\n    return false;\n  }\n}\nexport function haveSameOrigin(url1, url2) {\n  return getOrigin(url1) === getOrigin(url2);\n}\nexport function getOrigin(url) {\n  return getLinkElementOrigin(buildUrl(url));\n}\nexport function getPathName(url) {\n  var pathname = buildUrl(url).pathname;\n  return pathname[0] === '/' ? pathname : \"/\" + pathname;\n}\nexport function getSearch(url) {\n  return buildUrl(url).search;\n}\nexport function getHash(url) {\n  return buildUrl(url).hash;\n}\nexport function buildUrl(url, base) {\n  if (checkURLSupported()) {\n    return base !== undefined ? new URL(url, base) : new URL(url);\n  }\n  if (base === undefined && !/:/.test(url)) {\n    throw new Error(\"Invalid URL: '\" + url + \"'\");\n  }\n  var doc = document;\n  var anchorElement = doc.createElement('a');\n  if (base !== undefined) {\n    doc = document.implementation.createHTMLDocument('');\n    var baseElement = doc.createElement('base');\n    baseElement.href = base;\n    doc.head.appendChild(baseElement);\n    doc.body.appendChild(anchorElement);\n  }\n  anchorElement.href = url;\n  return anchorElement;\n}\nvar isURLSupported;\nfunction checkURLSupported() {\n  if (isURLSupported !== undefined) {\n    return isURLSupported;\n  }\n  try {\n    var url = new URL('http://test/path');\n    isURLSupported = url.href === 'http://test/path';\n    return isURLSupported;\n  } catch (_a) {\n    isURLSupported = false;\n  }\n  return isURLSupported;\n}","map":{"version":3,"names":["getLinkElementOrigin","getLocationOrigin","normalizeUrl","url","buildUrl","href","isValidUrl","_a","haveSameOrigin","url1","url2","getOrigin","getPathName","pathname","getSearch","search","getHash","hash","base","checkURLSupported","undefined","URL","test","Error","doc","document","anchorElement","createElement","implementation","createHTMLDocument","baseElement","head","appendChild","body","isURLSupported"],"sources":["../../src/tools/urlPolyfill.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,oBAAoB,EAAEC,iBAAiB,QAAQ,SAAS;AAEjE,OAAM,SAAUC,YAAYA,CAACC,GAAW;EACtC,OAAOC,QAAQ,CAACD,GAAG,EAAEF,iBAAiB,EAAE,CAAC,CAACI,IAAI;AAChD;AAEA,OAAM,SAAUC,UAAUA,CAACH,GAAW;EACpC,IAAI;IACF,OAAO,CAAC,CAACC,QAAQ,CAACD,GAAG,CAAC;GACvB,CAAC,OAAAI,EAAA,EAAM;IACN,OAAO,KAAK;;AAEhB;AAEA,OAAM,SAAUC,cAAcA,CAACC,IAAY,EAAEC,IAAY;EACvD,OAAOC,SAAS,CAACF,IAAI,CAAC,KAAKE,SAAS,CAACD,IAAI,CAAC;AAC5C;AAEA,OAAM,SAAUC,SAASA,CAACR,GAAW;EACnC,OAAOH,oBAAoB,CAACI,QAAQ,CAACD,GAAG,CAAC,CAAC;AAC5C;AAEA,OAAM,SAAUS,WAAWA,CAACT,GAAW;EACrC,IAAMU,QAAQ,GAAGT,QAAQ,CAACD,GAAG,CAAC,CAACU,QAAQ;EACvC,OAAOA,QAAQ,CAAC,CAAC,CAAC,KAAK,GAAG,GAAGA,QAAQ,GAAG,MAAIA,QAAU;AACxD;AAEA,OAAM,SAAUC,SAASA,CAACX,GAAW;EACnC,OAAOC,QAAQ,CAACD,GAAG,CAAC,CAACY,MAAM;AAC7B;AAEA,OAAM,SAAUC,OAAOA,CAACb,GAAW;EACjC,OAAOC,QAAQ,CAACD,GAAG,CAAC,CAACc,IAAI;AAC3B;AAEA,OAAM,SAAUb,QAAQA,CAACD,GAAW,EAAEe,IAAa;EACjD,IAAIC,iBAAiB,EAAE,EAAE;IACvB,OAAOD,IAAI,KAAKE,SAAS,GAAG,IAAIC,GAAG,CAAClB,GAAG,EAAEe,IAAI,CAAC,GAAG,IAAIG,GAAG,CAAClB,GAAG,CAAC;;EAE/D,IAAIe,IAAI,KAAKE,SAAS,IAAI,CAAC,GAAG,CAACE,IAAI,CAACnB,GAAG,CAAC,EAAE;IACxC,MAAM,IAAIoB,KAAK,CAAC,mBAAiBpB,GAAG,MAAG,CAAC;;EAE1C,IAAIqB,GAAG,GAAGC,QAAQ;EAClB,IAAMC,aAAa,GAAGF,GAAG,CAACG,aAAa,CAAC,GAAG,CAAC;EAC5C,IAAIT,IAAI,KAAKE,SAAS,EAAE;IACtBI,GAAG,GAAGC,QAAQ,CAACG,cAAc,CAACC,kBAAkB,CAAC,EAAE,CAAC;IACpD,IAAMC,WAAW,GAAGN,GAAG,CAACG,aAAa,CAAC,MAAM,CAAC;IAC7CG,WAAW,CAACzB,IAAI,GAAGa,IAAI;IACvBM,GAAG,CAACO,IAAI,CAACC,WAAW,CAACF,WAAW,CAAC;IACjCN,GAAG,CAACS,IAAI,CAACD,WAAW,CAACN,aAAa,CAAC;;EAErCA,aAAa,CAACrB,IAAI,GAAGF,GAAG;EACxB,OAAOuB,aAAa;AACtB;AAEA,IAAIQ,cAAmC;AACvC,SAASf,iBAAiBA,CAAA;EACxB,IAAIe,cAAc,KAAKd,SAAS,EAAE;IAChC,OAAOc,cAAc;;EAEvB,IAAI;IACF,IAAM/B,GAAG,GAAG,IAAIkB,GAAG,CAAC,kBAAkB,CAAC;IACvCa,cAAc,GAAG/B,GAAG,CAACE,IAAI,KAAK,kBAAkB;IAChD,OAAO6B,cAAc;GACtB,CAAC,OAAA3B,EAAA,EAAM;IACN2B,cAAc,GAAG,KAAK;;EAExB,OAAOA,cAAc;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module"}