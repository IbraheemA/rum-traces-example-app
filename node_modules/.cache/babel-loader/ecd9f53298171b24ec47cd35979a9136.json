{"ast":null,"code":"import { noop } from '@datadog/browser-core';\nimport { RumEventType } from '../rawRumEvent.types';\nimport { LifeCycleEventType } from './lifeCycle';\nexport function trackEventCounts(lifeCycle, callback) {\n  if (callback === void 0) {\n    callback = noop;\n  }\n  var eventCounts = {\n    errorCount: 0,\n    longTaskCount: 0,\n    resourceCount: 0,\n    userActionCount: 0\n  };\n  var subscription = lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, function (_a) {\n    var type = _a.type;\n    switch (type) {\n      case RumEventType.ERROR:\n        eventCounts.errorCount += 1;\n        callback(eventCounts);\n        break;\n      case RumEventType.ACTION:\n        eventCounts.userActionCount += 1;\n        callback(eventCounts);\n        break;\n      case RumEventType.LONG_TASK:\n        eventCounts.longTaskCount += 1;\n        callback(eventCounts);\n        break;\n      case RumEventType.RESOURCE:\n        eventCounts.resourceCount += 1;\n        callback(eventCounts);\n        break;\n    }\n  });\n  return {\n    stop: function () {\n      subscription.unsubscribe();\n    },\n    eventCounts: eventCounts\n  };\n}","map":{"version":3,"names":["noop","RumEventType","LifeCycleEventType","trackEventCounts","lifeCycle","callback","eventCounts","errorCount","longTaskCount","resourceCount","userActionCount","subscription","subscribe","RUM_EVENT_COLLECTED","_a","type","ERROR","ACTION","LONG_TASK","RESOURCE","stop","unsubscribe"],"sources":["../../src/domain/trackEventCounts.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,IAAI,QAAQ,uBAAuB;AAC5C,SAASC,YAAY,QAAQ,sBAAsB;AACnD,SAAoBC,kBAAkB,QAAQ,aAAa;AAS3D,OAAM,SAAUC,gBAAgBA,CAACC,SAAoB,EAAEC,QAAmD;EAAnD,IAAAA,QAAA;IAAAA,QAAA,GAAAL,IAAmD;EAAA;EACxG,IAAMM,WAAW,GAAG;IAClBC,UAAU,EAAE,CAAC;IACbC,aAAa,EAAE,CAAC;IAChBC,aAAa,EAAE,CAAC;IAChBC,eAAe,EAAE;GAClB;EAED,IAAMC,YAAY,GAAGP,SAAS,CAACQ,SAAS,CAACV,kBAAkB,CAACW,mBAAmB,EAAE,UAACC,EAAQ;QAANC,IAAI,GAAAD,EAAA,CAAAC,IAAA;IACtF,QAAQA,IAAI;MACV,KAAKd,YAAY,CAACe,KAAK;QACrBV,WAAW,CAACC,UAAU,IAAI,CAAC;QAC3BF,QAAQ,CAACC,WAAW,CAAC;QACrB;MACF,KAAKL,YAAY,CAACgB,MAAM;QACtBX,WAAW,CAACI,eAAe,IAAI,CAAC;QAChCL,QAAQ,CAACC,WAAW,CAAC;QACrB;MACF,KAAKL,YAAY,CAACiB,SAAS;QACzBZ,WAAW,CAACE,aAAa,IAAI,CAAC;QAC9BH,QAAQ,CAACC,WAAW,CAAC;QACrB;MACF,KAAKL,YAAY,CAACkB,QAAQ;QACxBb,WAAW,CAACG,aAAa,IAAI,CAAC;QAC9BJ,QAAQ,CAACC,WAAW,CAAC;QACrB;;EAEN,CAAC,CAAC;EAEF,OAAO;IACLc,IAAI,EAAE,SAAAA,CAAA;MACJT,YAAY,CAACU,WAAW,EAAE;IAC5B,CAAC;IACDf,WAAW,EAAAA;GACZ;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}